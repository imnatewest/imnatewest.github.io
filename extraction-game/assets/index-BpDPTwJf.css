:root{--font-title:"Nunito",sans-serif;--font-body:"Nunito",sans-serif;--color-primary:#8b4513;--color-secondary:#228b22;--color-danger:#e53935;--color-dark:#142814d9;--color-light:beige;--color-fog:#87ceeb;--color-accent:gold;--color-accent-glow:#ffd70080;--color-panel-bg:#0a0f0cd9;--color-text-muted:#8a9a8a;--font-display:"Nunito",sans-serif}body{font-family:var(--font-body);-webkit-user-select:none;user-select:none;margin:0;overflow:hidden}#game-container{width:100%;height:100%;position:absolute;top:0;left:0}#ui-layer{pointer-events:none;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;top:0;left:0}#fog-overlay{pointer-events:none;background:radial-gradient(circle at center,transparent 30%,var(--color-fog)70%);z-index:1;width:100%;height:100%;position:absolute;top:0;left:0}#minimap{border:2px solid var(--color-ui-border);z-index:10;background-color:#00000080;border-radius:50%;width:150px;height:150px;position:absolute;top:20px;right:20px}#start-screen,#game-over,#success,#hud{pointer-events:auto}.hidden{display:none!important}#level-container{background:var(--color-dark);color:var(--color-light);font-family:var(--font-title);pointer-events:auto;border:3px solid #556b2f;border-radius:30px;align-items:center;padding:10px 20px;font-size:1.5rem;display:flex;position:absolute;top:20px;left:20px;box-shadow:0 4px 8px #0000004d}#floating-hud{pointer-events:none;flex-direction:column;align-items:center;gap:5px;display:flex;position:absolute;top:0;left:0;transform:translate(-50%,-100%)}.hud-row{color:#fff;font-family:var(--font-title);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#0009;border-radius:15px;align-items:center;gap:10px;padding:5px 10px;font-size:1rem;display:flex}.label{color:#aaa;font-size:.7rem;font-weight:700}.floating-pill{color:#fff;font-family:var(--font-title);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);background:#0009;border-radius:15px;align-items:center;padding:5px 10px;font-size:1rem;display:flex}#health-bar-bg{background:#333;border:1px solid #222;border-radius:4px;width:60px;height:8px;overflow:hidden}#health-bar-fill{background:var(--color-danger);width:100%;height:100%;transition:width .2s ease-out}.icon{margin-right:5px;font-size:1.2rem}#game-over,#success{text-align:center;color:var(--color-light);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:#000000d9;border:2px solid #ffffff1a;border-radius:20px;padding:40px;animation:.5s ease-out fadeIn}#start-screen{pointer-events:auto;z-index:100;background-color:#050805;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;top:0;left:0;overflow:hidden}.start-background-overlay{z-index:1;background:radial-gradient(circle,#283c2866 0%,#050805e6 80%),url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%232d5016' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");width:100%;height:100%;animation:10s ease-in-out infinite alternate pulseOverlay;position:absolute;top:0;left:0}@keyframes pulseOverlay{0%{opacity:.7;transform:scale(1)}to{opacity:1;transform:scale(1.05)}}.start-content{z-index:10;flex-direction:column;justify-content:space-between;align-items:center;width:90%;max-width:1200px;height:85vh;animation:1s ease-out contentFadeIn;display:flex;position:relative}@keyframes contentFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.hero-section{text-align:center;margin-top:4vh}h1.title{font-family:var(--font-display);color:#e0e0e0;text-transform:uppercase;letter-spacing:12px;text-shadow:0 10px 30px #000c;-webkit-text-fill-color:transparent;filter:drop-shadow(0 0 20px #90ee9033);background:linear-gradient(#fff 0%,#a0a0a0 100%);-webkit-background-clip:text;background-clip:text;margin:0;font-size:6rem;line-height:1}.subtitle{font-family:var(--font-body);color:var(--color-accent);letter-spacing:4px;text-transform:uppercase;opacity:.9;margin-top:15px;font-size:1.2rem;font-weight:700}.separator{color:#444;margin:0 10px}.menu-grid{flex-grow:1;grid-template-columns:1fr 1fr;align-items:start;gap:60px;width:100%;margin-top:60px;display:grid}.menu-column{flex-direction:column;gap:20px;display:flex}.section-header{font-family:var(--font-display);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:3px;text-align:left;text-shadow:none;border-bottom:1px solid #ffffff1a;margin:0 0 15px;padding-bottom:10px;font-size:1.2rem;font-weight:800}.map-selection{flex-direction:column;gap:20px;display:flex}.menu-card{background:var(--color-panel-bg);cursor:pointer;text-align:left;box-sizing:border-box;border:1px solid #ffffff1a;border-radius:12px;align-items:center;gap:25px;width:100%;padding:25px;transition:all .3s cubic-bezier(.25,.8,.25,1);display:flex;position:relative;overflow:hidden}.menu-card:before{content:"";background:#333;width:4px;height:100%;transition:background .3s;position:absolute;top:0;left:0}.menu-card:hover{background:#141916f2;border-color:#ffffff4d;transform:translate(10px);box-shadow:0 10px 30px #00000080}.menu-card:hover:before{background:var(--color-accent);box-shadow:0 0 15px var(--color-accent-glow)}.map-icon{filter:drop-shadow(0 4px 8px #00000080);font-size:3.5rem;transition:transform .3s}.menu-card:hover .map-icon{transform:scale(1.1)rotate(5deg)}.card-info{flex-direction:column;gap:5px;display:flex}.map-name{font-family:var(--font-display);color:#fff;letter-spacing:1px;font-size:1.8rem;font-weight:900}.map-desc{color:var(--color-text-muted);font-size:.9rem;font-weight:600}.controls-panel{background:var(--color-panel-bg);border:1px solid #ffffff0d;border-radius:12px;flex-direction:column;gap:30px;padding:30px;display:flex}.control-group{flex-direction:column;align-items:center;gap:15px;display:flex}.control-label{color:var(--color-text-muted);letter-spacing:2px;text-transform:uppercase;font-size:.8rem;font-weight:700}.wasd-layout{flex-direction:column;align-items:center;gap:5px;display:flex}.row-keys{gap:5px;display:flex}.key{color:#fff;width:50px;height:50px;font-family:var(--font-display);text-shadow:0 2px 4px #00000080;background:linear-gradient(#2a2a2a 0%,#1a1a1a 100%);border:1px solid #444;border-radius:8px;justify-content:center;align-items:center;font-size:1.2rem;font-weight:800;display:flex;position:relative;box-shadow:0 4px #000,0 5px 10px #0000004d}.key:after{content:"";pointer-events:none;background:linear-gradient(#ffffff1a 0%,#fff0 100%);border-radius:8px;position:absolute;inset:0}.space-key{letter-spacing:2px;width:200px;font-size:1rem}@media (max-width:1024px){h1.title{font-size:4rem}.menu-grid{gap:30px}}@media (max-width:768px){.start-content{height:auto;padding:40px 0}h1.title{letter-spacing:6px;font-size:3rem}.menu-grid{grid-template-columns:1fr;gap:40px;margin-top:40px}.menu-column{width:100%}.menu-card{padding:20px}.map-icon{font-size:2.5rem}.map-name{font-size:1.5rem}}#success-screen h1,#game-over-screen h1,#shop-screen h1{text-shadow:0 0 10px #ffffff80;margin-bottom:20px;font-size:3rem}#success-screen,#game-over-screen,#pause-screen{pointer-events:auto;z-index:20;background:#000000d9;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;top:0;left:0}#pause-screen h1{text-shadow:0 0 10px #ffffff80;color:var(--color-light);margin-bottom:40px;font-size:3rem}#pause-screen button{margin:10px 0}#shop-screen{color:#e0e0e0;pointer-events:auto;z-index:20;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#0a0f14f2;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;display:flex}.shop-header{flex-direction:column;align-items:center;width:100%;margin-bottom:30px;display:flex}#shop-gold{color:gold;text-shadow:0 0 10px #ffd70080;font-size:2.5rem;font-family:var(--font-title);margin-bottom:15px;font-weight:700}.current-stats{background:#00000080;border:1px solid #444;border-radius:15px;gap:20px;padding:10px 20px;display:flex}.stat-item{color:#ccc;align-items:center;gap:8px;font-size:1.1rem;display:flex}.shop-items{gap:25px;margin-bottom:50px;display:flex}.shop-card{cursor:pointer;color:#fff;background:linear-gradient(145deg,#2a2a2a,#1a1a1a);border:2px solid #444;border-radius:12px;flex-direction:column;align-items:center;width:180px;padding:20px;transition:all .2s;display:flex;position:relative;overflow:hidden;box-shadow:0 4px 8px #0000004d}.shop-card:hover:not(:disabled){border-color:gold;transform:translateY(-5px);box-shadow:0 8px 16px #ffd70033}.shop-card:active:not(:disabled){transform:translateY(-2px)}.shop-card:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(.8);border-color:#333}.card-icon{margin-bottom:15px;font-size:3rem}.card-content{text-align:center;flex-grow:1;margin-bottom:15px}.shop-card .name{color:#fff;margin-bottom:5px;font-size:1.1rem;font-weight:700;display:block}.shop-card .desc{color:#aaa;font-size:.85rem;display:block}.card-footer{text-align:center;border-top:1px solid #444;width:100%;padding-top:10px}.shop-card .cost{color:gold;font-size:1.1rem;font-weight:700}#btn-next-level,#btn-restart{color:#fff;cursor:pointer;pointer-events:auto;background:#4caf50;border:none;border-radius:5px;padding:15px 30px;font-size:1.2rem;transition:background .2s}.map-selection{text-align:center;width:100%}.map-buttons{flex-wrap:wrap;justify-content:center;gap:25px;display:flex}.map-btn{flex-direction:column;align-items:center;gap:8px;min-width:180px;padding:25px 35px;display:flex}.map-icon{filter:drop-shadow(2px 2px 4px #00000080);font-size:3rem;display:block}.map-name{font-size:1.3rem;font-weight:900}.primary-btn{background:var(--color-primary);color:#fff;font-size:1.5rem;font-family:var(--font-title);cursor:pointer;pointer-events:auto;border:2px solid sienna;border-radius:50px;padding:15px 40px;font-weight:900;transition:transform .1s,background .2s,box-shadow .2s;box-shadow:0 6px #5c2e0b}button:hover{background:#45a049}.primary-btn:hover{background:sienna;transform:translateY(-3px);box-shadow:0 8px #5c2e0b,0 10px 30px #8b451366}.primary-btn:active{transform:translateY(2px);box-shadow:0 2px #5c2e0b}@media (max-width:1024px){h1.title{letter-spacing:3px;font-size:3.5rem}.start-content{gap:30px;padding:40px}}@media (max-width:768px){h1.title{letter-spacing:2px;font-size:2.5rem}.subtitle{font-size:1rem}.start-content{border-radius:20px;gap:25px;width:95%;padding:25px}.section-header{margin-bottom:15px;font-size:1.4rem}.controls-container{flex-direction:column;gap:20px}.wasd-container,.control-item{min-width:120px;padding:15px 25px}.control-key{min-width:35px;padding:8px 12px;font-size:1.1rem}.space-key{min-width:120px;padding:10px 30px;font-size:1.1rem}.wasd-label,.control-label{font-size:.95rem}.map-buttons{flex-direction:column;gap:15px}.map-btn{width:100%;min-width:unset;padding:20px 30px}.map-icon{font-size:2.5rem}.map-name{font-size:1.2rem}#pause-screen h1,#success-screen h1,#game-over-screen h1{margin-bottom:25px;font-size:2rem}#game-over,#success{padding:25px}#shop-screen h1{font-size:2rem}#shop-gold{font-size:1.8rem}.current-stats{flex-wrap:wrap;gap:15px;padding:8px 15px}.stat-item{font-size:1rem}.shop-items{flex-direction:column;gap:15px;width:90%;max-width:350px;margin-bottom:30px}.shop-card{width:100%;padding:15px}.card-icon{margin-bottom:10px;font-size:2.5rem}.primary-btn{padding:12px 30px;font-size:1.2rem}#btn-next-level,#btn-restart{padding:12px 25px;font-size:1.1rem}#minimap{width:120px;height:120px;top:15px;right:15px}}@media (max-width:480px){h1.title{letter-spacing:1px;font-size:2rem}.subtitle{font-size:.9rem}.start-content{gap:20px;padding:20px}.section-header{font-size:1.2rem}.wasd-container,.control-item{padding:12px 20px}.control-key{min-width:32px;padding:7px 10px;font-size:1rem}.space-key{min-width:100px;padding:8px 25px;font-size:1rem}.map-btn{padding:15px 25px}.map-icon{font-size:2rem}}#mobile-controls{pointer-events:none;z-index:15;width:100%;height:100%;position:absolute;top:0;left:0}.mobile-btn{color:#fff;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);pointer-events:auto;cursor:pointer;-webkit-user-select:none;user-select:none;touch-action:manipulation;background:#fff3;border:2px solid #ffffff4d;border-radius:50%;justify-content:center;align-items:center;transition:transform .1s,background .1s;display:flex;position:absolute;box-shadow:0 4px 10px #0000004d}.mobile-btn:active{background:#fff6;transform:scale(.95)}#btn-mobile-pause{background:#00000080;width:50px;height:50px;font-size:1.5rem;top:20px;left:20px}#btn-mobile-attack{background:#c8323280;border-color:#ff646480;width:80px;height:80px;font-size:2.5rem;bottom:40px;left:40px}#btn-mobile-fullscreen{background:#00000080;width:50px;height:50px;font-size:1.5rem;top:20px;left:80px}@media (min-width:769px){#mobile-controls{display:none!important}}@media (max-width:768px){#pause-screen h1,#success-screen h1,#game-over-screen h1,#shop-screen h1,#shop-gold{font-size:1.5rem}.shop-card{padding:12px}.card-icon{font-size:2rem}.primary-btn{padding:10px 25px;font-size:1.1rem}#minimap{width:100px;height:100px;top:10px;right:10px}}
